<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Major Incident Commander - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä—É–ø–Ω—ã–º–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏</title>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Exo+2:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0f;
            --bg-card: #12141a;
            --bg-panel: #1a1d24;
            --bg-hover: #252830;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent: #58a6ff;
            --success: #3fb950;
            --warning: #d29922;
            --danger: #f85149;
            --critical: #ff1744;
            --purple: #a371f7;
            --cyan: #39c5cf;
            --orange: #f0883e;
            --border: #30363d;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Exo 2', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.5;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px;
        }

        /* Alert Banner */
        .alert-banner {
            background: linear-gradient(90deg, var(--critical), var(--danger));
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-weight: 600;
            animation: pulse-bg 2s infinite;
        }

        @keyframes pulse-bg {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        header {
            text-align: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        h1 {
            font-family: 'Russo One', sans-serif;
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--critical), var(--orange), var(--warning));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Status Dashboard */
        .status-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin: 15px 0;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .status-item {
            text-align: center;
            padding: 10px;
            background: var(--bg-panel);
            border-radius: 8px;
        }

        .status-value {
            font-family: 'Russo One', sans-serif;
            font-size: 1.4rem;
        }

        .status-value.time { color: var(--critical); }
        .status-value.severity { color: var(--danger); }
        .status-value.teams { color: var(--cyan); }
        .status-value.stakeholders { color: var(--purple); }
        .status-value.score { color: #ffd700; }

        .status-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        /* Main Layout */
        .game-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
        }

        @media (max-width: 1000px) {
            .game-layout { grid-template-columns: 1fr; }
        }

        .panel {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid var(--border);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .panel-title {
            font-family: 'Russo One', sans-serif;
            font-size: 1rem;
            color: var(--accent);
        }

        /* Incident Card */
        .incident-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .incident-id {
            font-family: 'Russo One', sans-serif;
            font-size: 1rem;
            color: var(--critical);
        }

        .severity-badge {
            background: var(--critical);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .incident-title {
            font-family: 'Russo One', sans-serif;
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .incident-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        /* Impact Section */
        .impact-section {
            background: rgba(255, 23, 68, 0.1);
            border: 1px solid var(--critical);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .impact-title {
            font-size: 0.8rem;
            color: var(--critical);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .impact-item {
            text-align: center;
        }

        .impact-value {
            font-family: 'Russo One', sans-serif;
            font-size: 1.2rem;
            color: var(--text-primary);
        }

        .impact-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* Timeline */
        .timeline {
            margin-bottom: 15px;
        }

        .timeline-title {
            font-size: 0.85rem;
            color: var(--cyan);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .timeline-events {
            max-height: 200px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .timeline-event {
            display: flex;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.85rem;
        }

        .timeline-event:last-child { border-bottom: none; }

        .event-time {
            color: var(--warning);
            font-weight: 600;
            min-width: 50px;
        }

        .event-text {
            color: var(--text-secondary);
        }

        .event-text.action { color: var(--success); }
        .event-text.alert { color: var(--danger); }
        .event-text.info { color: var(--accent); }

        /* Current Phase */
        .phase-section {
            background: var(--bg-panel);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .phase-title {
            font-family: 'Russo One', sans-serif;
            font-size: 1rem;
            color: var(--orange);
        }

        .phase-number {
            background: var(--orange);
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .phase-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .phase-question {
            color: var(--text-primary);
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        /* Decision Options */
        .decision-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .decision-option {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .decision-option:hover:not(.disabled) {
            border-color: var(--accent);
            background: var(--bg-hover);
        }

        .decision-option.selected {
            border-color: var(--accent);
            background: rgba(88, 166, 255, 0.1);
        }

        .decision-option.correct {
            border-color: var(--success);
            background: rgba(63, 185, 80, 0.1);
        }

        .decision-option.wrong {
            border-color: var(--danger);
            background: rgba(248, 81, 73, 0.1);
        }

        .decision-option.disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .option-letter {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-panel);
            border-radius: 50%;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--accent);
            flex-shrink: 0;
        }

        .option-content {
            flex: 1;
        }

        .option-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 3px;
        }

        .option-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Exo 2', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent), var(--purple));
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(88, 166, 255, 0.3);
        }

        .btn-primary:disabled {
            background: var(--bg-panel);
            color: var(--text-muted);
            cursor: not-allowed;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), var(--critical));
            color: white;
        }

        /* Feedback Panel */
        .feedback-panel {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .feedback-panel.show { display: block; animation: slideIn 0.3s ease; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feedback-panel.success {
            background: rgba(63, 185, 80, 0.1);
            border: 1px solid var(--success);
        }

        .feedback-panel.partial {
            background: rgba(210, 153, 34, 0.1);
            border: 1px solid var(--warning);
        }

        .feedback-panel.failure {
            background: rgba(248, 81, 73, 0.1);
            border: 1px solid var(--danger);
        }

        .feedback-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-title {
            font-family: 'Russo One', sans-serif;
            font-size: 1rem;
        }

        .feedback-points {
            font-family: 'Russo One', sans-serif;
            font-size: 1.2rem;
        }

        .feedback-points.positive { color: var(--success); }
        .feedback-points.negative { color: var(--danger); }

        .feedback-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Right Panel - Teams & Comms */
        .teams-section {
            margin-bottom: 15px;
        }

        .team-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: var(--bg-panel);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .team-name {
            font-size: 0.85rem;
            color: var(--text-primary);
        }

        .team-status {
            font-size: 0.75rem;
            padding: 3px 10px;
            border-radius: 10px;
        }

        .team-status.engaged {
            background: rgba(63, 185, 80, 0.2);
            color: var(--success);
        }

        .team-status.standby {
            background: rgba(210, 153, 34, 0.2);
            color: var(--warning);
        }

        .team-status.offline {
            background: rgba(248, 81, 73, 0.2);
            color: var(--danger);
        }

        /* Stakeholders */
        .stakeholder-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: var(--bg-panel);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .stakeholder-name {
            font-size: 0.85rem;
            color: var(--text-primary);
        }

        .stakeholder-mood {
            font-size: 1.2rem;
        }

        /* Communication Log */
        .comms-section {
            margin-bottom: 15px;
        }

        .comms-log {
            max-height: 150px;
            overflow-y: auto;
        }

        .comm-item {
            padding: 8px;
            background: var(--bg-panel);
            border-radius: 6px;
            margin-bottom: 6px;
            font-size: 0.8rem;
        }

        .comm-time {
            color: var(--warning);
            font-weight: 600;
        }

        .comm-text {
            color: var(--text-secondary);
        }

        /* Screens */
        .screen {
            text-align: center;
            padding: 50px 20px;
        }

        .screen h2 {
            font-family: 'Russo One', sans-serif;
            font-size: 2rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--critical), var(--orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .screen p {
            color: var(--text-secondary);
            margin-bottom: 25px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .rules-box {
            text-align: left;
            background: var(--bg-card);
            padding: 25px;
            border-radius: 12px;
            max-width: 850px;
            margin: 0 auto 25px;
            border: 1px solid var(--border);
        }

        .rules-box h3 {
            color: var(--accent);
            font-family: 'Russo One', sans-serif;
            margin-bottom: 15px;
        }

        .rules-box ul {
            color: var(--text-secondary);
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .rules-box li { margin-bottom: 8px; }

        .incident-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .incident-type-card {
            background: var(--bg-panel);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid var(--critical);
        }

        .incident-type-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .incident-type-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .btn-start {
            padding: 15px 40px;
            background: linear-gradient(135deg, var(--critical), var(--orange));
            border: none;
            border-radius: 10px;
            color: white;
            font-family: 'Exo 2', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-start:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 23, 68, 0.4);
        }

        /* End Screen */
        .final-score-display {
            margin: 30px 0;
        }

        .final-score-number {
            font-family: 'Russo One', sans-serif;
            font-size: 5rem;
            background: linear-gradient(135deg, #ffd700, var(--orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .verdict {
            font-family: 'Russo One', sans-serif;
            font-size: 1.3rem;
            margin: 20px 0;
            padding: 12px 30px;
            border-radius: 10px;
            display: inline-block;
        }

        .verdict.expert { background: rgba(255, 215, 0, 0.2); color: #ffd700; }
        .verdict.good { background: rgba(63, 185, 80, 0.2); color: var(--success); }
        .verdict.pass { background: rgba(210, 153, 34, 0.2); color: var(--warning); }
        .verdict.fail { background: rgba(248, 81, 73, 0.2); color: var(--danger); }

        .final-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .final-stat { text-align: center; }

        .final-stat-value {
            font-family: 'Russo One', sans-serif;
            font-size: 2rem;
        }

        .final-stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-muted);
            font-size: 0.8rem;
            border-top: 1px solid var(--border);
            margin-top: 20px;
        }

        /* Timer Animation */
        .timer-critical {
            animation: timer-pulse 0.5s infinite;
        }

        @keyframes timer-pulse {
            0%, 100% { color: var(--critical); }
            50% { color: var(--warning); }
        }
    </style>
</head>
<body>
    <div class="alert-banner" id="alert-banner" style="display: none;">
        üö® MAJOR INCIDENT IN PROGRESS - SEV1 - ALL HANDS ON DECK üö®
    </div>

    <div class="container">
        <header>
            <h1>Major Incident Commander</h1>
        </header>

        <main id="game-container">
            <!-- Start Screen -->
            <div id="start-screen" class="screen">
                <h2>üö® Major Incident Commander</h2>
                <p>–í—ã ‚Äî Incident Commander. –ö—Ä—É–ø–Ω—ã–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –±—ã—Å—Ç—Ä—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥ –∏ —á—ë—Ç–∫–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏. –°–ø—Ä–∞–≤–∏—Ç–µ—Å—å –ª–∏ –≤—ã —Å –¥–∞–≤–ª–µ–Ω–∏–µ–º?</p>

                <div class="rules-box">
                    <h3>–í–∞—à–∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏</h3>
                    <ul>
                        <li><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è</strong> ‚Äî –Ω–∞–∑–Ω–∞—á–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º</li>
                        <li><strong>–≠—Å–∫–∞–ª–∞—Ü–∏—è</strong> ‚Äî –∑–Ω–∞–π—Ç–µ, –∫–æ–≥–¥–∞ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</li>
                        <li><strong>–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è</strong> ‚Äî –¥–µ—Ä–∂–∏—Ç–µ —Å—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä–æ–≤ –≤ –∫—É—Ä—Å–µ</li>
                        <li><strong>–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π</strong> ‚Äî –≤—ã–±–∏—Ä–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º</li>
                        <li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è</li>
                    </ul>

                    <h3 style="margin-top: 20px;">–ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—Å –∂–¥—É—Ç</h3>
                    <div class="incident-types">
                        <div class="incident-type-card">
                            <div class="incident-type-name">üí≥ –ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</div>
                            <div class="incident-type-desc">–ü–æ–ª–Ω—ã–π —Å–±–æ–π –ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥–∞</div>
                        </div>
                        <div class="incident-type-card">
                            <div class="incident-type-name">üåê DDoS-–∞—Ç–∞–∫–∞</div>
                            <div class="incident-type-desc">–ú–∞—Å—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ç–∞–∫–∞ –Ω–∞ —Å–∞–π—Ç</div>
                        </div>
                        <div class="incident-type-card">
                            <div class="incident-type-name">üóÑÔ∏è –°–±–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</div>
                            <div class="incident-type-desc">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Ç–µ—Ä—è –¥–æ—Å—Ç—É–ø–∞</div>
                        </div>
                        <div class="incident-type-card">
                            <div class="incident-type-name">‚òÅÔ∏è –û–±–ª–∞—á–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä</div>
                            <div class="incident-type-desc">–û—Ç–∫–∞–∑ AWS/Azure —Ä–µ–≥–∏–æ–Ω–∞</div>
                        </div>
                        <div class="incident-type-card">
                            <div class="incident-type-name">üîê –£—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö</div>
                            <div class="incident-type-desc">–ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö</div>
                        </div>
                        <div class="incident-type-card">
                            <div class="incident-type-name">ü¶† Ransomware</div>
                            <div class="incident-type-desc">–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º</div>
                        </div>
                    </div>
                </div>

                <button class="btn-start" onclick="startGame()">–ü—Ä–∏–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥–æ–≤–∞–Ω–∏–µ</button>
            </div>

            <!-- Game Screen -->
            <div id="game-screen" style="display: none;">
                <div class="status-dashboard">
                    <div class="status-item">
                        <div class="status-value time" id="incident-time">00:00</div>
                        <div class="status-label">–í—Ä–µ–º—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value severity">SEV1</div>
                        <div class="status-label">Severity</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value teams" id="teams-engaged">0</div>
                        <div class="status-label">–ö–æ–º–∞–Ω–¥ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–æ</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value stakeholders" id="comms-sent">0</div>
                        <div class="status-label">–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value score" id="total-score">0</div>
                        <div class="status-label">–û—á–∫–∏</div>
                    </div>
                </div>

                <div class="game-layout">
                    <!-- Left: Incident Details -->
                    <div class="panel">
                        <div class="panel-header">
                            <span class="panel-title">üö® –ê–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç</span>
                            <span class="severity-badge">SEV1 CRITICAL</span>
                        </div>

                        <div class="incident-header">
                            <span class="incident-id" id="incident-id">INC-2024-0891</span>
                        </div>

                        <h2 class="incident-title" id="incident-title">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
                        <p class="incident-description" id="incident-description"></p>

                        <div class="impact-section">
                            <div class="impact-title">üí• BUSINESS IMPACT</div>
                            <div class="impact-grid">
                                <div class="impact-item">
                                    <div class="impact-value" id="users-affected">0</div>
                                    <div class="impact-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                                </div>
                                <div class="impact-item">
                                    <div class="impact-value" id="revenue-loss">$0</div>
                                    <div class="impact-label">–ü–æ—Ç–µ—Ä–∏/—á–∞—Å</div>
                                </div>
                                <div class="impact-item">
                                    <div class="impact-value" id="systems-down">0</div>
                                    <div class="impact-label">–°–∏—Å—Ç–µ–º –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</div>
                                </div>
                            </div>
                        </div>

                        <div class="timeline">
                            <div class="timeline-title">üìã Timeline —Å–æ–±—ã—Ç–∏–π</div>
                            <div class="timeline-events" id="timeline-events"></div>
                        </div>

                        <div class="phase-section" id="phase-section">
                            <div class="phase-header">
                                <span class="phase-title" id="phase-title">–§–∞–∑–∞: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</span>
                                <span class="phase-number" id="phase-number">1/5</span>
                            </div>
                            <p class="phase-description" id="phase-description"></p>
                            <p class="phase-question" id="phase-question"></p>

                            <div class="decision-options" id="decision-options"></div>

                            <div class="action-buttons">
                                <button class="btn btn-primary" id="confirm-btn" onclick="confirmDecision()" disabled>
                                    –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ
                                </button>
                            </div>
                        </div>

                        <div class="feedback-panel" id="feedback-panel">
                            <div class="feedback-header">
                                <span class="feedback-title" id="feedback-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
                                <span class="feedback-points" id="feedback-points">+0</span>
                            </div>
                            <p class="feedback-text" id="feedback-text"></p>
                            <button class="btn btn-primary" id="next-phase-btn" onclick="nextPhase()" style="margin-top: 15px;">
                                –°–ª–µ–¥—É—é—â–∞—è —Ñ–∞–∑–∞ ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Right: Teams & Communications -->
                    <div class="panel">
                        <div class="panel-header">
                            <span class="panel-title">üë• –ö–æ–º–∞–Ω–¥—ã</span>
                        </div>

                        <div class="teams-section" id="teams-section"></div>

                        <div class="panel-header" style="margin-top: 15px;">
                            <span class="panel-title">üì¢ –°—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä—ã</span>
                        </div>

                        <div id="stakeholders-section"></div>

                        <div class="panel-header" style="margin-top: 15px;">
                            <span class="panel-title">üí¨ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏</span>
                        </div>

                        <div class="comms-section">
                            <div class="comms-log" id="comms-log"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- End Screen -->
            <div id="end-screen" class="screen" style="display: none;">
                <h2>–ò–Ω—Ü–∏–¥–µ–Ω—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω!</h2>

                <div class="final-score-display">
                    <div class="final-score-number" id="final-score">0</div>
                    <div style="font-size: 1.5rem; color: var(--text-muted)">/ 1000 –æ—á–∫–æ–≤</div>
                </div>

                <div class="verdict" id="verdict">Incident Commander Expert</div>

                <div class="final-stats">
                    <div class="final-stat">
                        <div class="final-stat-value" style="color: var(--success)" id="stat-correct">0</div>
                        <div class="final-stat-label">–í–µ—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π</div>
                    </div>
                    <div class="final-stat">
                        <div class="final-stat-value" style="color: var(--cyan)" id="stat-time">00:00</div>
                        <div class="final-stat-label">–í—Ä–µ–º—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</div>
                    </div>
                    <div class="final-stat">
                        <div class="final-stat-value" style="color: var(--purple)" id="stat-comms">0</div>
                        <div class="final-stat-label">–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π</div>
                    </div>
                    <div class="final-stat">
                        <div class="final-stat-value" style="color: var(--warning)" id="stat-escalations">0</div>
                        <div class="final-stat-label">–≠—Å–∫–∞–ª–∞—Ü–∏–π</div>
                    </div>
                </div>

                <button class="btn-start" onclick="restartGame()">–ù–æ–≤—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç</button>
            </div>
        </main>

        <footer>
            Major Incident Commander | ITIL 4 Incident Management | Swarming & Communication
        </footer>
    </div>

    <script>
        // ==================== INCIDENTS DATA ====================
        const incidents = [
            {
                id: "INC-2024-0891",
                title: "–ü–æ–ª–Ω—ã–π —Å–±–æ–π –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã",
                description: "–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –∫–∞—Ä—Ç–∞–º –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è. –ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Å–æ–≤–µ—Ä—à–∞—Ç—å –ø–æ–∫—É–ø–∫–∏. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 100% –æ—à–∏–±–æ–∫ –Ω–∞ –ø–ª–∞—Ç—ë–∂–Ω–æ–º —à–ª—é–∑–µ. –û—á–µ—Ä–µ–¥—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ä–∞—Å—Ç—ë—Ç.",
                usersAffected: "50,000+",
                revenueLoss: "$85,000",
                systemsDown: 3,
                initialTimeline: [
                    { time: "14:32", text: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: Alert - Payment Gateway Error Rate 100%", type: "alert" },
                    { time: "14:33", text: "Service Desk: –ú–∞—Å—Å–æ–≤—ã–µ –∂–∞–ª–æ–±—ã –∫–ª–∏–µ–Ω—Ç–æ–≤", type: "alert" },
                    { time: "14:35", text: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è: Major Incident –æ–±—ä—è–≤–ª–µ–Ω", type: "info" }
                ],
                phases: [
                    {
                        title: "–§–∞–∑–∞ 1: –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞",
                        description: "–ò–Ω—Ü–∏–¥–µ–Ω—Ç —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω. –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —Å–æ–±—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –Ω–∞—á–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é.",
                        question: "–ö–∞–∫–æ–µ –≤–∞—à–µ –ø–µ—Ä–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∫–∞–∫ Incident Commander?",
                        options: [
                            {
                                id: "a",
                                title: "–°–æ–∑–≤–∞—Ç—å War Room –∏ —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã",
                                desc: "–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–æ–∑—ã–≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã",
                                correct: true,
                                points: 100,
                                feedback: "–û—Ç–ª–∏—á–Ω–æ! War Room ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è Major Incidents. –°–±–æ—Ä –∫–æ–º–∞–Ω–¥ —É—Å–∫–æ—Ä—è–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É."
                            },
                            {
                                id: "b",
                                title: "–ù–∞—á–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ",
                                desc: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É",
                                correct: false,
                                points: -30,
                                feedback: "–û—à–∏–±–∫–∞! Incident Commander –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç, –∞ –Ω–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä—É–µ—Ç. –í—ã —Ç–µ—Ä—è–µ—Ç–µ –≤—Ä–µ–º—è –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–≤–æ—é —Ä–æ–ª—å."
                            },
                            {
                                id: "c",
                                title: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º",
                                desc: "–°—Ä–∞–∑—É —Å–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ –Ω–∞ —Å–∞–π—Ç–µ",
                                correct: false,
                                points: 20,
                                feedback: "–ß–∞—Å—Ç–∏—á–Ω–æ –≤–µ—Ä–Ω–æ. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –≤–∞–∂–Ω–∞, –Ω–æ —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –º–∞—Å—à—Ç–∞–± –∏ —Å–æ–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥—É."
                            },
                            {
                                id: "d",
                                title: "–ü–æ–¥–æ–∂–¥–∞—Ç—å 15 –º–∏–Ω—É—Ç ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, —Å–∞–º–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è",
                                desc: "–ò–Ω–æ–≥–¥–∞ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏",
                                correct: false,
                                points: -50,
                                feedback: "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞! –ü—Ä–∏ SEV1 –∫–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ ‚Äî —ç—Ç–æ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—è."
                            }
                        ]
                    },
                    {
                        title: "–§–∞–∑–∞ 2: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
                        description: "–ö–æ–º–∞–Ω–¥—ã —Å–æ–±—Ä–∞–Ω—ã. Database Team —Å–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π. Network Team –Ω–µ –≤–∏–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º. Payment Team –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.",
                        question: "Database Team –ø—Ä–æ—Å–∏—Ç 30 –º–∏–Ω—É—Ç –Ω–∞ –∞–Ω–∞–ª–∏–∑. Payment Team –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ backup-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞. –í–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ?",
                        options: [
                            {
                                id: "a",
                                title: "–î–∞—Ç—å DBA 30 –º–∏–Ω—É—Ç –Ω–∞ –∞–Ω–∞–ª–∏–∑",
                                desc: "–ü–æ–¥–æ–∂–¥–∞—Ç—å —Ç–æ—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏",
                                correct: false,
                                points: -20,
                                feedback: "–ü—Ä–∏ $85K/—á–∞—Å –ø–æ—Ç–µ—Ä—å ‚Äî 30 –º–∏–Ω—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è –æ–±–æ–π–¥—É—Ç—Å—è –≤ $42K. –ù—É–∂–Ω–æ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ."
                            },
                            {
                                id: "b",
                                title: "–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ backup-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞",
                                desc: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å, –ø–æ—Ç–æ–º —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å –ø—Ä–∏—á–∏–Ω–æ–π",
                                correct: true,
                                points: 100,
                                feedback: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞. Root cause analysis –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ."
                            },
                            {
                                id: "c",
                                title: "–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ",
                                desc: "DBA –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç, Payment –≥–æ—Ç–æ–≤–∏—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ",
                                correct: true,
                                points: 120,
                                feedback: "–û—Ç–ª–∏—á–Ω–æ! –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî –ª—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥. –í—ã –Ω–µ —Ç–µ—Ä—è–µ—Ç–µ –≤—Ä–µ–º—è –∏ –∏–º–µ–µ—Ç–µ –ø–ª–∞–Ω B."
                            },
                            {
                                id: "d",
                                title: "–≠—Å–∫–∞–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ CEO –¥–ª—è —Ä–µ—à–µ–Ω–∏—è",
                                desc: "–ü—É—Å—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ç —Ä–µ—à–µ–Ω–∏–µ",
                                correct: false,
                                points: -40,
                                feedback: "–û—à–∏–±–∫–∞! –≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–µ —Ç—Ä–µ–±—É—é—â–µ–µ CEO. –í—ã —Ç–µ—Ä—è–µ—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –±—é—Ä–æ–∫—Ä–∞—Ç–∏—é."
                            }
                        ]
                    },
                    {
                        title: "–§–∞–∑–∞ 3: –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è",
                        description: "–ü—Ä–æ—à–ª–æ 20 –º–∏–Ω—É—Ç. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ backup –∑–∞–Ω–∏–º–∞–µ—Ç 10 –º–∏–Ω—É—Ç. –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–∞—Ç—É—Å. –ö–ª–∏–µ–Ω—Ç—ã –∂–∞–ª—É—é—Ç—Å—è –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö.",
                        question: "–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é?",
                        options: [
                            {
                                id: "a",
                                title: "–ù–∞–∑–Ω–∞—á–∏—Ç—å Communication Lead –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã",
                                desc: "–û—Ç–¥–µ–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç",
                                correct: true,
                                points: 100,
                                feedback: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π Communication Lead –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –≤–∞—Å –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–∞–±–æ—Ç."
                            },
                            {
                                id: "b",
                                title: "–û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–∏—á–Ω–æ",
                                desc: "Incident Commander –¥–æ–ª–∂–µ–Ω –¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ—Ö –≤ –∫—É—Ä—Å–µ",
                                correct: false,
                                points: -30,
                                feedback: "–û—à–∏–±–∫–∞! –í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º–∏ –∏ –Ω–µ —Å–º–æ–∂–µ—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Ä–∞–±–æ—Ç—É."
                            },
                            {
                                id: "c",
                                title: "–ú–æ–ª—á–∞—Ç—å –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã",
                                desc: "–°–æ–æ–±—â–∏–º, –∫–æ–≥–¥–∞ –≤—Å—ë –ø–æ—á–∏–Ω–∏–º",
                                correct: false,
                                points: -50,
                                feedback: "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞! –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —É—Å–∏–ª–∏–≤–∞–µ—Ç –ø–∞–Ω–∏–∫—É –∏ —Ä–∞–∑—Ä—É—à–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ."
                            },
                            {
                                id: "d",
                                title: "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –≤ Twitter",
                                desc: "–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤",
                                correct: false,
                                points: -20,
                                feedback: "–ü–ª–æ—Ö–∞—è –∏–¥–µ—è! –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã –∫–ª–∏–µ–Ω—Ç–∞–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º–∏."
                            }
                        ]
                    },
                    {
                        title: "–§–∞–∑–∞ 4: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
                        description: "Backup-–ø—Ä–æ–≤–∞–π–¥–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω. 70% —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø—Ä–æ—Ö–æ–¥—è—Ç. DBA –Ω–∞—à–ª–∏ –ø—Ä–∏—á–∏–Ω—É: corrupted index –≤ master DB. –ù—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å ‚Äî —á–∏–Ω–∏—Ç—å –º–∞—Å—Ç–µ—Ä –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å backup.",
                        question: "–°–µ—Ä–≤–∏—Å —á–∞—Å—Ç–∏—á–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏?",
                        options: [
                            {
                                id: "a",
                                title: "–û—Å—Ç–∞–≤–∏—Ç—å backup, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å fix –Ω–∞ maintenance window",
                                desc: "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ ‚Äî —á–∏–Ω–∏—Ç—å –≤ –ø–ª–∞–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ",
                                correct: true,
                                points: 100,
                                feedback: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ä–∏—Å–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å–±–æ—è –ø—Ä–∏ —Å—Ä–æ—á–Ω–æ–º fix —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫."
                            },
                            {
                                id: "b",
                                title: "–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —á–∏–Ω–∏—Ç—å master –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ",
                                desc: "Backup ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ",
                                correct: false,
                                points: -30,
                                feedback: "–†–∏—Å–∫–æ–≤–∞–Ω–Ω–æ! –°–ø–µ—à–∫–∞ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Å–±–æ–π. –£ –≤–∞—Å —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ."
                            },
                            {
                                id: "c",
                                title: "–û–±—ä—è–≤–∏—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç –∑–∞–∫—Ä—ã—Ç—ã–º, –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞",
                                desc: "–°–µ—Ä–≤–∏—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Äî –º–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞",
                                correct: false,
                                points: -20,
                                feedback: "–†–∞–Ω–æ! –ù—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ."
                            },
                            {
                                id: "d",
                                title: "–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å 30 –º–∏–Ω—É—Ç, –∑–∞—Ç–µ–º –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ",
                                desc: "–£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º–∏ —à–∞–≥–∞–º–∏",
                                correct: true,
                                points: 80,
                                feedback: "–†–∞–∑—É–º–Ω–æ! –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é ‚Äî —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—è—Ç–∏–µ–º —Ä–µ—à–µ–Ω–∏–π."
                            }
                        ]
                    },
                    {
                        title: "–§–∞–∑–∞ 5: –ó–∞–∫—Ä—ã—Ç–∏–µ –∏ Post-Incident",
                        description: "–°–µ—Ä–≤–∏—Å —Å—Ç–∞–±–∏–ª–µ–Ω 2 —á–∞—Å–∞. –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –Ω–æ—Ä–º–µ. –ö–ª–∏–µ–Ω—Ç—ã –¥–æ–≤–æ–ª—å–Ω—ã. –ù—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–±–æ—Ä.",
                        question: "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å Major Incident?",
                        options: [
                            {
                                id: "a",
                                title: "–ó–∞–∫—Ä—ã—Ç—å —Ç–∏–∫–µ—Ç –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–∏–º –∑–∞–¥–∞—á–∞–º",
                                desc: "–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ ‚Äî –¥–≤–∏–≥–∞–µ–º—Å—è –¥–∞–ª—å—à–µ",
                                correct: false,
                                points: -40,
                                feedback: "–û—à–∏–±–∫–∞! –ë–µ–∑ Post-Incident Review –≤—ã –Ω–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏ –Ω–µ —É–ª—É—á—à–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã."
                            },
                            {
                                id: "b",
                                title: "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å PIR (Post-Incident Review) –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å",
                                desc: "Blameless review –≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤",
                                correct: true,
                                points: 100,
                                feedback: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! PIR ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è. Blameless –ø–æ–¥—Ö–æ–¥ –ø–æ–æ—â—Ä—è–µ—Ç —á–µ—Å—Ç–Ω–æ—Å—Ç—å."
                            },
                            {
                                id: "c",
                                title: "–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å CEO",
                                desc: "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –∑–Ω–∞—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏",
                                correct: false,
                                points: 30,
                                feedback: "–ß–∞—Å—Ç–∏—á–Ω–æ –≤–µ—Ä–Ω–æ. Executive Summary –Ω—É–∂–µ–Ω, –Ω–æ PIR –≤–∞–∂–Ω–µ–µ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π."
                            },
                            {
                                id: "d",
                                title: "–ù–∞–π—Ç–∏ –≤–∏–Ω–æ–≤–Ω–æ–≥–æ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω—ã–µ –º–µ—Ä—ã",
                                desc: "–ö—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –∑–∞ —Å–±–æ–π",
                                correct: false,
                                points: -50,
                                feedback: "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞! Blame culture —Ä–∞–∑—Ä—É—à–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã. –í—Å–µ–≥–¥–∞ Blameless!"
                            }
                        ]
                    }
                ],
                teams: [
                    { name: "Database Team", status: "engaged" },
                    { name: "Payment Team", status: "engaged" },
                    { name: "Network Team", status: "standby" },
                    { name: "Security Team", status: "standby" },
                    { name: "Support Team", status: "engaged" }
                ],
                stakeholders: [
                    { name: "CTO", mood: "üò∞" },
                    { name: "VP of Sales", mood: "üò§" },
                    { name: "Customer Success", mood: "üòü" },
                    { name: "PR Team", mood: "üò¨" }
                ]
            }
        ];

        // ==================== GAME STATE ====================
        let gameState = {
            currentIncident: 0,
            currentPhase: 0,
            totalScore: 0,
            correctDecisions: 0,
            selectedOption: null,
            teamsEngaged: 3,
            commsSent: 0,
            escalations: 0,
            incidentTime: 0,
            timerInterval: null,
            timelineEvents: [],
            communications: []
        };

        // ==================== GAME FUNCTIONS ====================
        function startGame() {
            gameState = {
                currentIncident: 0,
                currentPhase: 0,
                totalScore: 0,
                correctDecisions: 0,
                selectedOption: null,
                teamsEngaged: 3,
                commsSent: 0,
                escalations: 0,
                incidentTime: 0,
                timerInterval: null,
                timelineEvents: [],
                communications: []
            };

            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            document.getElementById('alert-banner').style.display = 'block';

            startTimer();
            loadIncident();
        }

        function startTimer() {
            gameState.timerInterval = setInterval(() => {
                gameState.incidentTime++;
                updateTimerDisplay();
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.incidentTime / 60);
            const seconds = gameState.incidentTime % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('incident-time').textContent = display;

            if (gameState.incidentTime > 180) {
                document.getElementById('incident-time').classList.add('timer-critical');
            }
        }

        function loadIncident() {
            const incident = incidents[gameState.currentIncident];

            document.getElementById('incident-id').textContent = incident.id;
            document.getElementById('incident-title').textContent = incident.title;
            document.getElementById('incident-description').textContent = incident.description;
            document.getElementById('users-affected').textContent = incident.usersAffected;
            document.getElementById('revenue-loss').textContent = incident.revenueLoss;
            document.getElementById('systems-down').textContent = incident.systemsDown;

            // Timeline
            gameState.timelineEvents = [...incident.initialTimeline];
            updateTimeline();

            // Teams
            updateTeams(incident.teams);

            // Stakeholders
            updateStakeholders(incident.stakeholders);

            // Load first phase
            loadPhase();
        }

        function loadPhase() {
            const incident = incidents[gameState.currentIncident];
            const phase = incident.phases[gameState.currentPhase];

            document.getElementById('phase-title').textContent = phase.title;
            document.getElementById('phase-number').textContent = `${gameState.currentPhase + 1}/${incident.phases.length}`;
            document.getElementById('phase-description').textContent = phase.description;
            document.getElementById('phase-question').textContent = phase.question;

            // Render options
            const optionsContainer = document.getElementById('decision-options');
            optionsContainer.innerHTML = phase.options.map(opt => `
                <div class="decision-option" id="option-${opt.id}" onclick="selectOption('${opt.id}')">
                    <div class="option-letter">${opt.id.toUpperCase()}</div>
                    <div class="option-content">
                        <div class="option-title">${opt.title}</div>
                        <div class="option-desc">${opt.desc}</div>
                    </div>
                </div>
            `).join('');

            // Reset UI
            gameState.selectedOption = null;
            document.getElementById('confirm-btn').disabled = true;
            document.getElementById('phase-section').style.display = 'block';
            document.getElementById('feedback-panel').classList.remove('show');

            updateDashboard();
        }

        function selectOption(optionId) {
            const incident = incidents[gameState.currentIncident];
            const phase = incident.phases[gameState.currentPhase];

            // Check if already answered
            if (document.querySelector('.decision-option.correct') || document.querySelector('.decision-option.wrong')) {
                return;
            }

            // Deselect previous
            document.querySelectorAll('.decision-option').forEach(el => el.classList.remove('selected'));

            // Select new
            document.getElementById(`option-${optionId}`).classList.add('selected');
            gameState.selectedOption = optionId;
            document.getElementById('confirm-btn').disabled = false;
        }

        function confirmDecision() {
            if (!gameState.selectedOption) return;

            const incident = incidents[gameState.currentIncident];
            const phase = incident.phases[gameState.currentPhase];
            const selectedOpt = phase.options.find(o => o.id === gameState.selectedOption);

            // Disable all options
            document.querySelectorAll('.decision-option').forEach(el => el.classList.add('disabled'));

            // Mark correct/wrong
            phase.options.forEach(opt => {
                const el = document.getElementById(`option-${opt.id}`);
                if (opt.correct) {
                    el.classList.add('correct');
                } else if (opt.id === gameState.selectedOption && !opt.correct) {
                    el.classList.add('wrong');
                }
            });

            // Update score
            gameState.totalScore += selectedOpt.points;
            if (selectedOpt.correct) {
                gameState.correctDecisions++;
            }

            // Add to timeline
            const minutes = Math.floor(gameState.incidentTime / 60);
            const timeStr = `+${minutes}m`;
            gameState.timelineEvents.push({
                time: timeStr,
                text: `IC Decision: ${selectedOpt.title}`,
                type: selectedOpt.correct ? 'action' : 'alert'
            });
            updateTimeline();

            // Add communication
            gameState.commsSent++;
            gameState.communications.push({
                time: timeStr,
                text: `Phase ${gameState.currentPhase + 1}: ${selectedOpt.title}`
            });
            updateCommsLog();

            // Show feedback
            const feedback = document.getElementById('feedback-panel');
            feedback.classList.remove('success', 'partial', 'failure');

            let feedbackClass = 'failure';
            let feedbackTitle = '–ù–µ–≤–µ—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ';
            if (selectedOpt.correct && selectedOpt.points >= 100) {
                feedbackClass = 'success';
                feedbackTitle = '–û—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ!';
            } else if (selectedOpt.points > 0) {
                feedbackClass = 'partial';
                feedbackTitle = '–ü—Ä–∏–µ–º–ª–µ–º–æ';
            }

            feedback.classList.add('show', feedbackClass);
            document.getElementById('feedback-title').textContent = feedbackTitle;
            document.getElementById('feedback-points').textContent = (selectedOpt.points >= 0 ? '+' : '') + selectedOpt.points;
            document.getElementById('feedback-points').className = 'feedback-points ' + (selectedOpt.points >= 0 ? 'positive' : 'negative');
            document.getElementById('feedback-text').textContent = selectedOpt.feedback;

            document.getElementById('confirm-btn').style.display = 'none';
            document.getElementById('next-phase-btn').textContent =
                gameState.currentPhase < incident.phases.length - 1 ? '–°–ª–µ–¥—É—é—â–∞—è —Ñ–∞–∑–∞ ‚Üí' : '–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç';

            updateDashboard();
        }

        function nextPhase() {
            const incident = incidents[gameState.currentIncident];

            gameState.currentPhase++;

            if (gameState.currentPhase >= incident.phases.length) {
                endGame();
            } else {
                document.getElementById('confirm-btn').style.display = 'inline-block';
                loadPhase();
            }
        }

        function updateTimeline() {
            const container = document.getElementById('timeline-events');
            container.innerHTML = gameState.timelineEvents.map(event => `
                <div class="timeline-event">
                    <span class="event-time">${event.time}</span>
                    <span class="event-text ${event.type}">${event.text}</span>
                </div>
            `).join('');
            container.scrollTop = container.scrollHeight;
        }

        function updateTeams(teams) {
            document.getElementById('teams-section').innerHTML = teams.map(team => `
                <div class="team-item">
                    <span class="team-name">${team.name}</span>
                    <span class="team-status ${team.status}">${team.status === 'engaged' ? '–ó–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–∞' : team.status === 'standby' ? '–í —Ä–µ–∑–µ—Ä–≤–µ' : 'Offline'}</span>
                </div>
            `).join('');
        }

        function updateStakeholders(stakeholders) {
            document.getElementById('stakeholders-section').innerHTML = stakeholders.map(s => `
                <div class="stakeholder-item">
                    <span class="stakeholder-name">${s.name}</span>
                    <span class="stakeholder-mood">${s.mood}</span>
                </div>
            `).join('');
        }

        function updateCommsLog() {
            document.getElementById('comms-log').innerHTML = gameState.communications.map(c => `
                <div class="comm-item">
                    <span class="comm-time">${c.time}</span>
                    <span class="comm-text">${c.text}</span>
                </div>
            `).join('');
        }

        function updateDashboard() {
            document.getElementById('total-score').textContent = gameState.totalScore;
            document.getElementById('teams-engaged').textContent = gameState.teamsEngaged;
            document.getElementById('comms-sent').textContent = gameState.commsSent;
        }

        function endGame() {
            clearInterval(gameState.timerInterval);

            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('alert-banner').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';

            const minutes = Math.floor(gameState.incidentTime / 60);
            const seconds = gameState.incidentTime % 60;
            const timeStr = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            document.getElementById('final-score').textContent = gameState.totalScore;
            document.getElementById('stat-correct').textContent = gameState.correctDecisions;
            document.getElementById('stat-time').textContent = timeStr;
            document.getElementById('stat-comms').textContent = gameState.commsSent;
            document.getElementById('stat-escalations').textContent = gameState.escalations;

            const verdict = document.getElementById('verdict');
            verdict.classList.remove('expert', 'good', 'pass', 'fail');

            const maxScore = 500; // 5 phases √ó ~100 points
            if (gameState.totalScore >= 400) {
                verdict.textContent = 'INCIDENT COMMANDER EXPERT';
                verdict.classList.add('expert');
            } else if (gameState.totalScore >= 250) {
                verdict.textContent = '–û–ü–´–¢–ù–´–ô –ö–û–û–†–î–ò–ù–ê–¢–û–†';
                verdict.classList.add('good');
            } else if (gameState.totalScore >= 100) {
                verdict.textContent = '–ó–ê–ß–Å–¢';
                verdict.classList.add('pass');
            } else {
                verdict.textContent = '–ù–£–ñ–ù–ê –ü–†–ê–ö–¢–ò–ö–ê';
                verdict.classList.add('fail');
            }
        }

        function restartGame() {
            document.getElementById('end-screen').style.display = 'none';
            startGame();
        }
    </script>
</body>
</html>
